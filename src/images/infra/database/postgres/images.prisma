generator client {
  provider             = "prisma-client-py"
  interface            = "asyncio"
  recursive_type_depth = 5
  output = "./generated/images_client"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_IMAGES_URL")
}

model Ubications {
  cod_ubi Int      @id
  country String   @db.VarChar(100)
  images  Images[]

  @@map("ubications")
}

model Dates {
  cod_date Int      @id
  day      DateTime
  images   Images[]

  @@map("dates")
}

model Images {
  cod_image  String    @id @default(uuid()) @db.Uuid
  cod_ubi    Int
  cod_user   String    @db.Uuid
  image_path String
  uploaded_at Int
  ubication  Ubications @relation(fields: [cod_ubi], references: [cod_ubi])
  uploaded   Dates     @relation(fields: [uploaded_at], references: [cod_date])

  @@map("images")
}
